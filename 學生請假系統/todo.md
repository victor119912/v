# 學生請假系統開發 TODO

## ✅ 後端開發 (已完成)
- [x] Flask 應用程式架構設計
- [x] MongoDB 資料庫整合 (PyMongo)
- [x] 使用者模型 (User Model)
- [x] JWT 身份驗證系統
- [x] 使用者註冊 API
- [x] 使用者登入 API
- [x] 密碼加密 (bcrypt)
- [x] Docker 容器化設定
- [x] Docker Compose 編排
- [x] Nginx 反向代理設定
- [x] MongoDB 初始化腳本
- [x] CORS 設定
- [x] 環境變數管理

## ✅ 前端開發 (已完成)
- [x] 設計註冊頁面 UI（純 HTML）
- [x] 前端表單驗證（email、密碼）
- [x] 處理表單提交並呼叫註冊 API
- [x] 顯示註冊成功或失敗的提示訊息
- [x] 設計登入頁面 UI（純 HTML）
- [x] 前端表單驗證（email、密碼）
- [x] 處理表單提交並呼叫登入 API
- [x] 顯示登入成功或失敗的提示訊息
- [x] JWT 儲存至 localStorage

## ✅ 目前已完成的優化項目

### JWT 處理優化
- [x] 完善前端驗證邏輯（檢查 JWT 是否有效）
- [x] 實作自動登入功能（根據儲存的 JWT）
- [x] 實作 JWT 自動驗證與使用者資訊取得
- [x] 實作登出功能與狀態清除

### UI/UX 改善
- [x] 添加表單送出時的 loading 狀態
- [x] 優化錯誤訊息顯示樣式
- [x] 實作登入狀態檢查與頁面內容切換
- [x] 添加使用者資訊顯示
- [x] 實作登出按鈕功能
- [x] 改善表單驗證與錯誤處理
- [x] 增強 CSS 樣式與響應式設計

### 後端 API 功能
- [x] 個人資料更新 API 功能
- [x] API 錯誤處理標準化
- [x] API 輸入驗證強化
- [x] API 回應格式統一

## 🚧 下一階段需要測試的項目

### 整合測試
- [ ] 測試註冊流程完整性
- [ ] 測試登入流程與 JWT 驗證
- [ ] 測試自動登入功能
- [ ] 測試登出功能
- [ ] 測試錯誤處理邏輯
- [ ] 測試響應式設計

## 📅 下階段開發計劃

### 請假申請功能
- [ ] 請假申請資料模型設計
- [ ] 請假類型管理
- [ ] 請假申請 API
- [ ] 請假申請前端頁面
- [ ] 請假記錄查詢功能

### 審核流程
- [ ] 審核者權限設計
- [ ] 請假審核 API
- [ ] 審核流程前端介面
- [ ] 審核狀態通知

### 進階功能
- [ ] 檔案上傳功能（請假證明）
- [ ] Email 通知系統
- [ ] 請假統計報表
- [ ] 批量操作功能

### React 前端重構
- [ ] 建立 React 專案結構
- [ ] 使用者認證組件
- [ ] 路由保護機制
- [ ] 狀態管理 (Redux/Context)
- [ ] UI 組件庫整合

### 系統優化
- [ ] 單元測試撰寫
- [ ] 整合測試
- [ ] API 文檔自動生成
- [ ] 效能監控
- [ ] 資料庫索引優化
- [ ] 快取機制
- [ ] 日誌系統

## 🎯 立即可執行的任務

### 優先級 1 (本週)
1. 修復前端 JWT 驗證邏輯
2. 完善自動登入功能
3. 添加表單 loading 狀態
4. 測試現有 API 功能

### 優先級 2 (下週)
1. 設計請假申請資料結構
2. 實作請假申請 API
3. 建立請假申請前端頁面
4. 整合請假申請流程

### 優先級 3 (未來)
1. 實作審核流程
2. 添加通知系統
3. 開發 React 版本
4. 完善測試覆蓋率

## 🔧 開發環境設定

### 目前可用的指令
```bash
# 啟動完整系統
docker-compose up -d

# 查看服務狀態
docker-compose ps

# 查看日誌
docker-compose logs -f backend

# 停止服務
docker-compose down
```

### 測試用帳號
- 管理員: admin@example.com / admin123
- 可透過註冊頁面建立新的學生帳號

### 服務存取點
- 前端: http://localhost:3000
- 後端 API: http://localhost:5000
- 資料庫管理: http://localhost:8081
